{"sha":"e3c3457149b109178d510aac965d5a85cc465aa0","commit":{"author":{"name":"erandacr","email":"erandacr@gmail.com","date":"2016-12-09T07:01:06Z"},"committer":{"name":"erandacr","email":"erandacr@gmail.com","date":"2016-12-09T07:01:06Z"},"message":"Fixing ESBJAVA-4970","tree":{"sha":"5ec75dfef809069d4a36bcf24f82b5bc70be0971","url":"https://api.github.com/repos/wso2/wso2-axis2-transports/git/trees/5ec75dfef809069d4a36bcf24f82b5bc70be0971"},"url":"https://api.github.com/repos/wso2/wso2-axis2-transports/git/commits/e3c3457149b109178d510aac965d5a85cc465aa0","comment_count":0},"url":"https://api.github.com/repos/wso2/wso2-axis2-transports/commits/e3c3457149b109178d510aac965d5a85cc465aa0","html_url":"https://github.com/wso2/wso2-axis2-transports/commit/e3c3457149b109178d510aac965d5a85cc465aa0","comments_url":"https://api.github.com/repos/wso2/wso2-axis2-transports/commits/e3c3457149b109178d510aac965d5a85cc465aa0/comments","author":{"login":"erandacr","id":4003109,"avatar_url":"https://avatars.githubusercontent.com/u/4003109?v=3","gravatar_id":"","url":"https://api.github.com/users/erandacr","html_url":"https://github.com/erandacr","followers_url":"https://api.github.com/users/erandacr/followers","following_url":"https://api.github.com/users/erandacr/following{/other_user}","gists_url":"https://api.github.com/users/erandacr/gists{/gist_id}","starred_url":"https://api.github.com/users/erandacr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erandacr/subscriptions","organizations_url":"https://api.github.com/users/erandacr/orgs","repos_url":"https://api.github.com/users/erandacr/repos","events_url":"https://api.github.com/users/erandacr/events{/privacy}","received_events_url":"https://api.github.com/users/erandacr/received_events","type":"User","site_admin":false},"committer":{"login":"erandacr","id":4003109,"avatar_url":"https://avatars.githubusercontent.com/u/4003109?v=3","gravatar_id":"","url":"https://api.github.com/users/erandacr","html_url":"https://github.com/erandacr","followers_url":"https://api.github.com/users/erandacr/followers","following_url":"https://api.github.com/users/erandacr/following{/other_user}","gists_url":"https://api.github.com/users/erandacr/gists{/gist_id}","starred_url":"https://api.github.com/users/erandacr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erandacr/subscriptions","organizations_url":"https://api.github.com/users/erandacr/orgs","repos_url":"https://api.github.com/users/erandacr/repos","events_url":"https://api.github.com/users/erandacr/events{/privacy}","received_events_url":"https://api.github.com/users/erandacr/received_events","type":"User","site_admin":false},"parents":[{"sha":"cc5213ae067c1251e566efb9ff476278dac9f4d0","url":"https://api.github.com/repos/wso2/wso2-axis2-transports/commits/cc5213ae067c1251e566efb9ff476278dac9f4d0","html_url":"https://github.com/wso2/wso2-axis2-transports/commit/cc5213ae067c1251e566efb9ff476278dac9f4d0"}],"stats":{"total":14,"additions":8,"deletions":6},"files":[{"sha":"e0043c303853415a884f9a1dd1c957990ea2bd11","filename":"modules/rabbitmq/src/main/java/org/apache/axis2/transport/rabbitmq/RabbitMQMessageSender.java","status":"modified","additions":8,"deletions":6,"changes":14,"blob_url":"https://github.com/wso2/wso2-axis2-transports/blob/e3c3457149b109178d510aac965d5a85cc465aa0/modules/rabbitmq/src/main/java/org/apache/axis2/transport/rabbitmq/RabbitMQMessageSender.java","raw_url":"https://github.com/wso2/wso2-axis2-transports/raw/e3c3457149b109178d510aac965d5a85cc465aa0/modules/rabbitmq/src/main/java/org/apache/axis2/transport/rabbitmq/RabbitMQMessageSender.java","contents_url":"https://api.github.com/repos/wso2/wso2-axis2-transports/contents/modules/rabbitmq/src/main/java/org/apache/axis2/transport/rabbitmq/RabbitMQMessageSender.java?ref=e3c3457149b109178d510aac965d5a85cc465aa0","patch":"@@ -77,13 +77,15 @@ public RabbitMQMessageSender(RabbitMQConnectionFactory factory, String targetEPR\n \n     public void send(RabbitMQMessage message, MessageContext msgContext) throws\n             AxisRabbitMQException, IOException {\n-        publish(message, msgContext);\n-\n-        //release the rmq channel to the pool\n         try {\n-            connectionFactory.pushRMQChannel(rmqChannel);\n-        } catch (InterruptedException e) {\n-            handleException(e.getMessage());\n+            publish(message, msgContext);\n+        } finally {\n+            //release the rmq channel to the pool\n+            try {\n+                connectionFactory.pushRMQChannel(rmqChannel);\n+            } catch (InterruptedException e) {\n+                handleException(e.getMessage());\n+            }\n         }\n     }\n "}]}